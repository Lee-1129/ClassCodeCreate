# 0   背景介绍

> ​		**Aquila模型是基于EMF框架实现的模型，可以利用EMF API实现存取和访问。现在要利用已有的Aquila类图模型生成相应的类代码文件。其本质还是解析XML文档。**
>
> - 目标：为Aquila类图实现代码生成功能，能够将任意一个Aquila类图模型（输入）转化成C++代码（或其他编程语言，本项目实现的是转化成**C++**样式的代码）
> - 要求：利用任意代码生成技术实现一个代码生成器，能够读取任意Aquila模型，并将其中的类图转换成代码框架。

# 1   使用方法

​		新建一个目录，将代码文件和你要输入的一个Aquila类图模型（aquila文件）放入到这个目录下，**运行***ClassCodeCreate.py****，会得到一个code.cpp文件，这里存放的是代码生成的结果，生成的代码是**C++**样式的。Aquila类图模型示例：

![img](file:///C:/Users/MSI-PC/AppData/Local/Temp/msohtmlclip1/01/clip_image002.jpg)

​																				

代码生成后部分结果如下图：

![img](file:///C:/Users/MSI-PC/AppData/Local/Temp/msohtmlclip1/01/clip_image004.jpg)

​																			

# 2   注意事项

​		由于**Aquila**类图模型不能具体体现类属性的具体数据类型，所以代码生成后的结果统一以“**datatype**”来泛指某一种数据类型，类函数**默认返回值为void**，**默认公有继承**。Aquila类图模型中的<call>将会被识别为**友元关系**。目前仅实现了生成属性及其构造函数、返回函数、方法，友元类，继承关系。

​		由于时间仓促，目前暂时只能实现**单继承(即一个子类只能有一个父类)**的类图模型代码生成